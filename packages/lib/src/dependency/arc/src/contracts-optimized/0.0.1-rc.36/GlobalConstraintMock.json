{"contractName":"GlobalConstraintMock","abi":[{"constant":true,"inputs":[],"name":"currentCallPhase","outputs":[{"internalType":"enum GlobalConstraintInterface.CallPhase","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"testParams","outputs":[{"internalType":"bool","name":"pre","type":"bool"},{"internalType":"bool","name":"post","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"method","type":"bytes32"},{"internalType":"bool","name":"pre","type":"bool"},{"internalType":"bool","name":"post","type":"bool"}],"name":"setConstraint","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"bytes32","name":"method","type":"bytes32"}],"name":"pre","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"bytes32","name":"method","type":"bytes32"}],"name":"post","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"when","outputs":[{"internalType":"enum GlobalConstraintInterface.CallPhase","name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"}],"metadata":"{\"compiler\":{\"version\":\"0.5.13+commit.5b0b510c\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"constant\":true,\"inputs\":[],\"name\":\"currentCallPhase\",\"outputs\":[{\"internalType\":\"enum GlobalConstraintInterface.CallPhase\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"method\",\"type\":\"bytes32\"}],\"name\":\"post\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"method\",\"type\":\"bytes32\"}],\"name\":\"pre\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"method\",\"type\":\"bytes32\"},{\"internalType\":\"bool\",\"name\":\"pre\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"post\",\"type\":\"bool\"}],\"name\":\"setConstraint\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"testParams\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"pre\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"post\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"when\",\"outputs\":[{\"internalType\":\"enum GlobalConstraintInterface.CallPhase\",\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"methods\":{}},\"userdoc\":{\"methods\":{}}},\"settings\":{\"compilationTarget\":{\"/Users/oren/daostack/arc/contracts/test/GlobalConstraintMock.sol\":\"GlobalConstraintMock\"},\"evmVersion\":\"petersburg\",\"libraries\":{},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"/Users/oren/daostack/arc/contracts/globalConstraints/GlobalConstraintInterface.sol\":{\"keccak256\":\"0x83fb7666df1270aa8d857a631172b555dcf4f24fabba9a2a241d2b1ca2e574ef\",\"urls\":[\"bzz-raw://2499d07b8ba63936601c61884415a5f6848f1883e452efb608ccb181d98125e8\",\"dweb:/ipfs/QmeZCTMZ6KwJX1HLRZMMTZugskPDR6dvaNGEknEyyBePxt\"]},\"/Users/oren/daostack/arc/contracts/test/GlobalConstraintMock.sol\":{\"keccak256\":\"0xe237c78f7e5de9c821b107e7508f580e849230b9f84b2cc7f17259d1c5eb0cbf\",\"urls\":[\"bzz-raw://16bcd03e173a45315b67a2574febbc84644aef87bbd7f5d8b7d7832572d86429\",\"dweb:/ipfs/QmPDreftnNZ27q6oTQcenTfZeUb8TdiTmQmFuv9S11uo92\"]}},\"version\":1}","sourceMap":"88:1142:30:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;88:1142:30;;;;;;;","deployedSourceMap":"88:1142:30:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;88:1142:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;245:59;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;311:546;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;311:546:30;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;192:46;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;192:46:30;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;988:121;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;988:121:30;;;;;;;;;;;;;:::i;863:119::-;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;;;;;;863:119:30;;;;;;;;;;;;;:::i;1115:113::-;;;:::i;245:59::-;;;;;;:::o;311:546::-;386:4;402:18;;;;;;;;;;:28;;-1:-1:-1;;402:28:30;;;;;;;;-1:-1:-1;;440:30:30;402:28;440:30;;;;;;;;485:13;;;494:4;493:5;485:13;481:349;;;514:16;:65;;533:46;;514:16;-1:-1:-1;;514:65:30;:16;533:46;514:65;;;;;;481:349;;;615:3;610:210;;638:16;:58;;657:39;;638:16;-1:-1:-1;;638:58:30;:16;657:39;638:58;;610:210;722:4;717:103;;765:40;746:59;;-1:-1:-1;;746:59:30;;;;;717:103;-1:-1:-1;846:4:30;311:546;;;;;:::o;192:46::-;;;;;;;;;;;;;;;;;;;;;;;:::o;988:121::-;1056:4;1079:18;;;;;;;;;;:23;;;;;;;988:121;-1:-1:-1;;988:121:30:o;863:119::-;930:4;953:18;;;;;;;;;;:22;;;;863:119;-1:-1:-1;;863:119:30:o;1115:113::-;1205:16;;;;1115:113;:::o","source":"pragma solidity 0.5.13;\n\nimport \"../globalConstraints/GlobalConstraintInterface.sol\";\n\n\ncontract GlobalConstraintMock {\n\n    struct TestParam {\n        bool pre;\n        bool post;\n    }\n\n    mapping (bytes32=>TestParam) public testParams;\n\n    GlobalConstraintInterface.CallPhase public currentCallPhase;\n\n    function setConstraint(bytes32 method, bool pre, bool post) public returns(bool) {\n        testParams[method].pre = pre;\n        testParams[method].post = post;\n\n        if (!pre && !post) {\n            currentCallPhase = GlobalConstraintInterface.CallPhase.PreAndPost;\n        } else {\n            if (!pre) {\n                currentCallPhase = GlobalConstraintInterface.CallPhase.Pre;\n            } else if (!post) {\n                currentCallPhase = GlobalConstraintInterface.CallPhase.Post;\n            }\n        }\n        return true;\n    }\n\n    function pre(address, bytes32, bytes32 method) public view returns(bool) {\n        return testParams[method].pre;\n    }\n\n    function post(address, bytes32, bytes32 method) public view returns(bool) {\n        return testParams[method].post;\n    }\n\n    function when() public view returns(GlobalConstraintInterface.CallPhase) {\n        return currentCallPhase;\n    }\n}\n","sourcePath":"/Users/oren/daostack/arc/contracts/test/GlobalConstraintMock.sol","ast":{"absolutePath":"/Users/oren/daostack/arc/contracts/test/GlobalConstraintMock.sol","exportedSymbols":{"GlobalConstraintMock":[8649]},"id":8650,"nodeType":"SourceUnit","nodes":[{"id":8532,"literals":["solidity","0.5",".13"],"nodeType":"PragmaDirective","src":"0:23:30"},{"absolutePath":"/Users/oren/daostack/arc/contracts/globalConstraints/GlobalConstraintInterface.sol","file":"../globalConstraints/GlobalConstraintInterface.sol","id":8533,"nodeType":"ImportDirective","scope":8650,"sourceUnit":1908,"src":"25:60:30","symbolAliases":[],"unitAlias":""},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":8649,"linearizedBaseContracts":[8649],"name":"GlobalConstraintMock","nodeType":"ContractDefinition","nodes":[{"canonicalName":"GlobalConstraintMock.TestParam","id":8538,"members":[{"constant":false,"id":8535,"name":"pre","nodeType":"VariableDeclaration","scope":8538,"src":"152:8:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8534,"name":"bool","nodeType":"ElementaryTypeName","src":"152:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":8537,"name":"post","nodeType":"VariableDeclaration","scope":8538,"src":"170:9:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8536,"name":"bool","nodeType":"ElementaryTypeName","src":"170:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"name":"TestParam","nodeType":"StructDefinition","scope":8649,"src":"125:61:30","visibility":"public"},{"constant":false,"id":8542,"name":"testParams","nodeType":"VariableDeclaration","scope":8649,"src":"192:46:30","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam)"},"typeName":{"id":8541,"keyType":{"id":8539,"name":"bytes32","nodeType":"ElementaryTypeName","src":"201:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"192:28:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam)"},"valueType":{"contractScope":null,"id":8540,"name":"TestParam","nodeType":"UserDefinedTypeName","referencedDeclaration":8538,"src":"210:9:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage_ptr","typeString":"struct GlobalConstraintMock.TestParam"}}},"value":null,"visibility":"public"},{"constant":false,"id":8544,"name":"currentCallPhase","nodeType":"VariableDeclaration","scope":8649,"src":"245:59:30","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"},"typeName":{"contractScope":null,"id":8543,"name":"GlobalConstraintInterface.CallPhase","nodeType":"UserDefinedTypeName","referencedDeclaration":1879,"src":"245:35:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"value":null,"visibility":"public"},{"body":{"id":8605,"nodeType":"Block","src":"392:465:30","statements":[{"expression":{"argumentTypes":null,"id":8560,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":8555,"name":"testParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8542,"src":"402:10:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam storage ref)"}},"id":8557,"indexExpression":{"argumentTypes":null,"id":8556,"name":"method","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8546,"src":"413:6:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"402:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage","typeString":"struct GlobalConstraintMock.TestParam storage ref"}},"id":8558,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"pre","nodeType":"MemberAccess","referencedDeclaration":8535,"src":"402:22:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":8559,"name":"pre","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8548,"src":"427:3:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"402:28:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8561,"nodeType":"ExpressionStatement","src":"402:28:30"},{"expression":{"argumentTypes":null,"id":8567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":8562,"name":"testParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8542,"src":"440:10:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam storage ref)"}},"id":8564,"indexExpression":{"argumentTypes":null,"id":8563,"name":"method","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8546,"src":"451:6:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"440:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage","typeString":"struct GlobalConstraintMock.TestParam storage ref"}},"id":8565,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"post","nodeType":"MemberAccess","referencedDeclaration":8537,"src":"440:23:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":8566,"name":"post","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8550,"src":"466:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"440:30:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8568,"nodeType":"ExpressionStatement","src":"440:30:30"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":8573,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":8570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"485:4:30","subExpression":{"argumentTypes":null,"id":8569,"name":"pre","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8548,"src":"486:3:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"id":8572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"493:5:30","subExpression":{"argumentTypes":null,"id":8571,"name":"post","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8550,"src":"494:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"485:13:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":8601,"nodeType":"Block","src":"596:234:30","statements":[{"condition":{"argumentTypes":null,"id":8582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"614:4:30","subExpression":{"argumentTypes":null,"id":8581,"name":"pre","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8548,"src":"615:3:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"argumentTypes":null,"id":8591,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"721:5:30","subExpression":{"argumentTypes":null,"id":8590,"name":"post","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8550,"src":"722:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":8599,"nodeType":"IfStatement","src":"717:103:30","trueBody":{"id":8598,"nodeType":"Block","src":"728:92:30","statements":[{"expression":{"argumentTypes":null,"id":8596,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":8592,"name":"currentCallPhase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8544,"src":"746:16:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":8593,"name":"GlobalConstraintInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1907,"src":"765:25:30","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_GlobalConstraintInterface_$1907_$","typeString":"type(contract GlobalConstraintInterface)"}},"id":8594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"CallPhase","nodeType":"MemberAccess","referencedDeclaration":1879,"src":"765:35:30","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_CallPhase_$1879_$","typeString":"type(enum GlobalConstraintInterface.CallPhase)"}},"id":8595,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Post","nodeType":"MemberAccess","referencedDeclaration":null,"src":"765:40:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"src":"746:59:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"id":8597,"nodeType":"ExpressionStatement","src":"746:59:30"}]}},"id":8600,"nodeType":"IfStatement","src":"610:210:30","trueBody":{"id":8589,"nodeType":"Block","src":"620:91:30","statements":[{"expression":{"argumentTypes":null,"id":8587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":8583,"name":"currentCallPhase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8544,"src":"638:16:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":8584,"name":"GlobalConstraintInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1907,"src":"657:25:30","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_GlobalConstraintInterface_$1907_$","typeString":"type(contract GlobalConstraintInterface)"}},"id":8585,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"CallPhase","nodeType":"MemberAccess","referencedDeclaration":1879,"src":"657:35:30","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_CallPhase_$1879_$","typeString":"type(enum GlobalConstraintInterface.CallPhase)"}},"id":8586,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Pre","nodeType":"MemberAccess","referencedDeclaration":null,"src":"657:39:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"src":"638:58:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"id":8588,"nodeType":"ExpressionStatement","src":"638:58:30"}]}}]},"id":8602,"nodeType":"IfStatement","src":"481:349:30","trueBody":{"id":8580,"nodeType":"Block","src":"500:90:30","statements":[{"expression":{"argumentTypes":null,"id":8578,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":8574,"name":"currentCallPhase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8544,"src":"514:16:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":8575,"name":"GlobalConstraintInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1907,"src":"533:25:30","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_GlobalConstraintInterface_$1907_$","typeString":"type(contract GlobalConstraintInterface)"}},"id":8576,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"CallPhase","nodeType":"MemberAccess","referencedDeclaration":1879,"src":"533:35:30","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_CallPhase_$1879_$","typeString":"type(enum GlobalConstraintInterface.CallPhase)"}},"id":8577,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"PreAndPost","nodeType":"MemberAccess","referencedDeclaration":null,"src":"533:46:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"src":"514:65:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"id":8579,"nodeType":"ExpressionStatement","src":"514:65:30"}]}},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":8603,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"846:4:30","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":8554,"id":8604,"nodeType":"Return","src":"839:11:30"}]},"documentation":null,"id":8606,"implemented":true,"kind":"function","modifiers":[],"name":"setConstraint","nodeType":"FunctionDefinition","parameters":{"id":8551,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8546,"name":"method","nodeType":"VariableDeclaration","scope":8606,"src":"334:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8545,"name":"bytes32","nodeType":"ElementaryTypeName","src":"334:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":8548,"name":"pre","nodeType":"VariableDeclaration","scope":8606,"src":"350:8:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8547,"name":"bool","nodeType":"ElementaryTypeName","src":"350:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":8550,"name":"post","nodeType":"VariableDeclaration","scope":8606,"src":"360:9:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8549,"name":"bool","nodeType":"ElementaryTypeName","src":"360:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"333:37:30"},"returnParameters":{"id":8554,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8553,"name":"","nodeType":"VariableDeclaration","scope":8606,"src":"386:4:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8552,"name":"bool","nodeType":"ElementaryTypeName","src":"386:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"385:6:30"},"scope":8649,"src":"311:546:30","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":8622,"nodeType":"Block","src":"936:46:30","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":8617,"name":"testParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8542,"src":"953:10:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam storage ref)"}},"id":8619,"indexExpression":{"argumentTypes":null,"id":8618,"name":"method","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8612,"src":"964:6:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"953:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage","typeString":"struct GlobalConstraintMock.TestParam storage ref"}},"id":8620,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"pre","nodeType":"MemberAccess","referencedDeclaration":8535,"src":"953:22:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":8616,"id":8621,"nodeType":"Return","src":"946:29:30"}]},"documentation":null,"id":8623,"implemented":true,"kind":"function","modifiers":[],"name":"pre","nodeType":"FunctionDefinition","parameters":{"id":8613,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8608,"name":"","nodeType":"VariableDeclaration","scope":8623,"src":"876:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8607,"name":"address","nodeType":"ElementaryTypeName","src":"876:7:30","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":8610,"name":"","nodeType":"VariableDeclaration","scope":8623,"src":"885:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8609,"name":"bytes32","nodeType":"ElementaryTypeName","src":"885:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":8612,"name":"method","nodeType":"VariableDeclaration","scope":8623,"src":"894:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8611,"name":"bytes32","nodeType":"ElementaryTypeName","src":"894:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"875:34:30"},"returnParameters":{"id":8616,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8615,"name":"","nodeType":"VariableDeclaration","scope":8623,"src":"930:4:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8614,"name":"bool","nodeType":"ElementaryTypeName","src":"930:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"929:6:30"},"scope":8649,"src":"863:119:30","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":8639,"nodeType":"Block","src":"1062:47:30","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":8634,"name":"testParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8542,"src":"1079:10:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam storage ref)"}},"id":8636,"indexExpression":{"argumentTypes":null,"id":8635,"name":"method","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8629,"src":"1090:6:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1079:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage","typeString":"struct GlobalConstraintMock.TestParam storage ref"}},"id":8637,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"post","nodeType":"MemberAccess","referencedDeclaration":8537,"src":"1079:23:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":8633,"id":8638,"nodeType":"Return","src":"1072:30:30"}]},"documentation":null,"id":8640,"implemented":true,"kind":"function","modifiers":[],"name":"post","nodeType":"FunctionDefinition","parameters":{"id":8630,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8625,"name":"","nodeType":"VariableDeclaration","scope":8640,"src":"1002:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8624,"name":"address","nodeType":"ElementaryTypeName","src":"1002:7:30","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":8627,"name":"","nodeType":"VariableDeclaration","scope":8640,"src":"1011:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8626,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1011:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":8629,"name":"method","nodeType":"VariableDeclaration","scope":8640,"src":"1020:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8628,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1020:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"1001:34:30"},"returnParameters":{"id":8633,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8632,"name":"","nodeType":"VariableDeclaration","scope":8640,"src":"1056:4:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8631,"name":"bool","nodeType":"ElementaryTypeName","src":"1056:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"1055:6:30"},"scope":8649,"src":"988:121:30","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":8647,"nodeType":"Block","src":"1188:40:30","statements":[{"expression":{"argumentTypes":null,"id":8645,"name":"currentCallPhase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8544,"src":"1205:16:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"functionReturnParameters":8644,"id":8646,"nodeType":"Return","src":"1198:23:30"}]},"documentation":null,"id":8648,"implemented":true,"kind":"function","modifiers":[],"name":"when","nodeType":"FunctionDefinition","parameters":{"id":8641,"nodeType":"ParameterList","parameters":[],"src":"1128:2:30"},"returnParameters":{"id":8644,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8643,"name":"","nodeType":"VariableDeclaration","scope":8648,"src":"1151:35:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"},"typeName":{"contractScope":null,"id":8642,"name":"GlobalConstraintInterface.CallPhase","nodeType":"UserDefinedTypeName","referencedDeclaration":1879,"src":"1151:35:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"value":null,"visibility":"internal"}],"src":"1150:37:30"},"scope":8649,"src":"1115:113:30","stateMutability":"view","superFunction":null,"visibility":"public"}],"scope":8650,"src":"88:1142:30"}],"src":"0:1231:30"},"legacyAST":{"absolutePath":"/Users/oren/daostack/arc/contracts/test/GlobalConstraintMock.sol","exportedSymbols":{"GlobalConstraintMock":[8649]},"id":8650,"nodeType":"SourceUnit","nodes":[{"id":8532,"literals":["solidity","0.5",".13"],"nodeType":"PragmaDirective","src":"0:23:30"},{"absolutePath":"/Users/oren/daostack/arc/contracts/globalConstraints/GlobalConstraintInterface.sol","file":"../globalConstraints/GlobalConstraintInterface.sol","id":8533,"nodeType":"ImportDirective","scope":8650,"sourceUnit":1908,"src":"25:60:30","symbolAliases":[],"unitAlias":""},{"baseContracts":[],"contractDependencies":[],"contractKind":"contract","documentation":null,"fullyImplemented":true,"id":8649,"linearizedBaseContracts":[8649],"name":"GlobalConstraintMock","nodeType":"ContractDefinition","nodes":[{"canonicalName":"GlobalConstraintMock.TestParam","id":8538,"members":[{"constant":false,"id":8535,"name":"pre","nodeType":"VariableDeclaration","scope":8538,"src":"152:8:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8534,"name":"bool","nodeType":"ElementaryTypeName","src":"152:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":8537,"name":"post","nodeType":"VariableDeclaration","scope":8538,"src":"170:9:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8536,"name":"bool","nodeType":"ElementaryTypeName","src":"170:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"name":"TestParam","nodeType":"StructDefinition","scope":8649,"src":"125:61:30","visibility":"public"},{"constant":false,"id":8542,"name":"testParams","nodeType":"VariableDeclaration","scope":8649,"src":"192:46:30","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam)"},"typeName":{"id":8541,"keyType":{"id":8539,"name":"bytes32","nodeType":"ElementaryTypeName","src":"201:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"192:28:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam)"},"valueType":{"contractScope":null,"id":8540,"name":"TestParam","nodeType":"UserDefinedTypeName","referencedDeclaration":8538,"src":"210:9:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage_ptr","typeString":"struct GlobalConstraintMock.TestParam"}}},"value":null,"visibility":"public"},{"constant":false,"id":8544,"name":"currentCallPhase","nodeType":"VariableDeclaration","scope":8649,"src":"245:59:30","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"},"typeName":{"contractScope":null,"id":8543,"name":"GlobalConstraintInterface.CallPhase","nodeType":"UserDefinedTypeName","referencedDeclaration":1879,"src":"245:35:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"value":null,"visibility":"public"},{"body":{"id":8605,"nodeType":"Block","src":"392:465:30","statements":[{"expression":{"argumentTypes":null,"id":8560,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":8555,"name":"testParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8542,"src":"402:10:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam storage ref)"}},"id":8557,"indexExpression":{"argumentTypes":null,"id":8556,"name":"method","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8546,"src":"413:6:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"402:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage","typeString":"struct GlobalConstraintMock.TestParam storage ref"}},"id":8558,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"pre","nodeType":"MemberAccess","referencedDeclaration":8535,"src":"402:22:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":8559,"name":"pre","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8548,"src":"427:3:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"402:28:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8561,"nodeType":"ExpressionStatement","src":"402:28:30"},{"expression":{"argumentTypes":null,"id":8567,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":8562,"name":"testParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8542,"src":"440:10:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam storage ref)"}},"id":8564,"indexExpression":{"argumentTypes":null,"id":8563,"name":"method","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8546,"src":"451:6:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"440:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage","typeString":"struct GlobalConstraintMock.TestParam storage ref"}},"id":8565,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberName":"post","nodeType":"MemberAccess","referencedDeclaration":8537,"src":"440:23:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":8566,"name":"post","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8550,"src":"466:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"440:30:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":8568,"nodeType":"ExpressionStatement","src":"440:30:30"},{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":8573,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":8570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"485:4:30","subExpression":{"argumentTypes":null,"id":8569,"name":"pre","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8548,"src":"486:3:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"argumentTypes":null,"id":8572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"493:5:30","subExpression":{"argumentTypes":null,"id":8571,"name":"post","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8550,"src":"494:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"485:13:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":8601,"nodeType":"Block","src":"596:234:30","statements":[{"condition":{"argumentTypes":null,"id":8582,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"614:4:30","subExpression":{"argumentTypes":null,"id":8581,"name":"pre","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8548,"src":"615:3:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"argumentTypes":null,"id":8591,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"721:5:30","subExpression":{"argumentTypes":null,"id":8590,"name":"post","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8550,"src":"722:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":8599,"nodeType":"IfStatement","src":"717:103:30","trueBody":{"id":8598,"nodeType":"Block","src":"728:92:30","statements":[{"expression":{"argumentTypes":null,"id":8596,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":8592,"name":"currentCallPhase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8544,"src":"746:16:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":8593,"name":"GlobalConstraintInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1907,"src":"765:25:30","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_GlobalConstraintInterface_$1907_$","typeString":"type(contract GlobalConstraintInterface)"}},"id":8594,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"CallPhase","nodeType":"MemberAccess","referencedDeclaration":1879,"src":"765:35:30","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_CallPhase_$1879_$","typeString":"type(enum GlobalConstraintInterface.CallPhase)"}},"id":8595,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Post","nodeType":"MemberAccess","referencedDeclaration":null,"src":"765:40:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"src":"746:59:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"id":8597,"nodeType":"ExpressionStatement","src":"746:59:30"}]}},"id":8600,"nodeType":"IfStatement","src":"610:210:30","trueBody":{"id":8589,"nodeType":"Block","src":"620:91:30","statements":[{"expression":{"argumentTypes":null,"id":8587,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":8583,"name":"currentCallPhase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8544,"src":"638:16:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":8584,"name":"GlobalConstraintInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1907,"src":"657:25:30","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_GlobalConstraintInterface_$1907_$","typeString":"type(contract GlobalConstraintInterface)"}},"id":8585,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"CallPhase","nodeType":"MemberAccess","referencedDeclaration":1879,"src":"657:35:30","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_CallPhase_$1879_$","typeString":"type(enum GlobalConstraintInterface.CallPhase)"}},"id":8586,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"Pre","nodeType":"MemberAccess","referencedDeclaration":null,"src":"657:39:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"src":"638:58:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"id":8588,"nodeType":"ExpressionStatement","src":"638:58:30"}]}}]},"id":8602,"nodeType":"IfStatement","src":"481:349:30","trueBody":{"id":8580,"nodeType":"Block","src":"500:90:30","statements":[{"expression":{"argumentTypes":null,"id":8578,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":8574,"name":"currentCallPhase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8544,"src":"514:16:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":8575,"name":"GlobalConstraintInterface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1907,"src":"533:25:30","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_GlobalConstraintInterface_$1907_$","typeString":"type(contract GlobalConstraintInterface)"}},"id":8576,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"CallPhase","nodeType":"MemberAccess","referencedDeclaration":1879,"src":"533:35:30","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_CallPhase_$1879_$","typeString":"type(enum GlobalConstraintInterface.CallPhase)"}},"id":8577,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberName":"PreAndPost","nodeType":"MemberAccess","referencedDeclaration":null,"src":"533:46:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"src":"514:65:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"id":8579,"nodeType":"ExpressionStatement","src":"514:65:30"}]}},{"expression":{"argumentTypes":null,"hexValue":"74727565","id":8603,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"846:4:30","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"functionReturnParameters":8554,"id":8604,"nodeType":"Return","src":"839:11:30"}]},"documentation":null,"id":8606,"implemented":true,"kind":"function","modifiers":[],"name":"setConstraint","nodeType":"FunctionDefinition","parameters":{"id":8551,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8546,"name":"method","nodeType":"VariableDeclaration","scope":8606,"src":"334:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8545,"name":"bytes32","nodeType":"ElementaryTypeName","src":"334:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":8548,"name":"pre","nodeType":"VariableDeclaration","scope":8606,"src":"350:8:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8547,"name":"bool","nodeType":"ElementaryTypeName","src":"350:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"},{"constant":false,"id":8550,"name":"post","nodeType":"VariableDeclaration","scope":8606,"src":"360:9:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8549,"name":"bool","nodeType":"ElementaryTypeName","src":"360:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"333:37:30"},"returnParameters":{"id":8554,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8553,"name":"","nodeType":"VariableDeclaration","scope":8606,"src":"386:4:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8552,"name":"bool","nodeType":"ElementaryTypeName","src":"386:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"385:6:30"},"scope":8649,"src":"311:546:30","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"body":{"id":8622,"nodeType":"Block","src":"936:46:30","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":8617,"name":"testParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8542,"src":"953:10:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam storage ref)"}},"id":8619,"indexExpression":{"argumentTypes":null,"id":8618,"name":"method","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8612,"src":"964:6:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"953:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage","typeString":"struct GlobalConstraintMock.TestParam storage ref"}},"id":8620,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"pre","nodeType":"MemberAccess","referencedDeclaration":8535,"src":"953:22:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":8616,"id":8621,"nodeType":"Return","src":"946:29:30"}]},"documentation":null,"id":8623,"implemented":true,"kind":"function","modifiers":[],"name":"pre","nodeType":"FunctionDefinition","parameters":{"id":8613,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8608,"name":"","nodeType":"VariableDeclaration","scope":8623,"src":"876:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8607,"name":"address","nodeType":"ElementaryTypeName","src":"876:7:30","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":8610,"name":"","nodeType":"VariableDeclaration","scope":8623,"src":"885:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8609,"name":"bytes32","nodeType":"ElementaryTypeName","src":"885:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":8612,"name":"method","nodeType":"VariableDeclaration","scope":8623,"src":"894:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8611,"name":"bytes32","nodeType":"ElementaryTypeName","src":"894:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"875:34:30"},"returnParameters":{"id":8616,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8615,"name":"","nodeType":"VariableDeclaration","scope":8623,"src":"930:4:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8614,"name":"bool","nodeType":"ElementaryTypeName","src":"930:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"929:6:30"},"scope":8649,"src":"863:119:30","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":8639,"nodeType":"Block","src":"1062:47:30","statements":[{"expression":{"argumentTypes":null,"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":8634,"name":"testParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8542,"src":"1079:10:30","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_TestParam_$8538_storage_$","typeString":"mapping(bytes32 => struct GlobalConstraintMock.TestParam storage ref)"}},"id":8636,"indexExpression":{"argumentTypes":null,"id":8635,"name":"method","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8629,"src":"1090:6:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1079:18:30","typeDescriptions":{"typeIdentifier":"t_struct$_TestParam_$8538_storage","typeString":"struct GlobalConstraintMock.TestParam storage ref"}},"id":8637,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberName":"post","nodeType":"MemberAccess","referencedDeclaration":8537,"src":"1079:23:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":8633,"id":8638,"nodeType":"Return","src":"1072:30:30"}]},"documentation":null,"id":8640,"implemented":true,"kind":"function","modifiers":[],"name":"post","nodeType":"FunctionDefinition","parameters":{"id":8630,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8625,"name":"","nodeType":"VariableDeclaration","scope":8640,"src":"1002:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":8624,"name":"address","nodeType":"ElementaryTypeName","src":"1002:7:30","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":8627,"name":"","nodeType":"VariableDeclaration","scope":8640,"src":"1011:7:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8626,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1011:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"},{"constant":false,"id":8629,"name":"method","nodeType":"VariableDeclaration","scope":8640,"src":"1020:14:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":8628,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1020:7:30","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":null,"visibility":"internal"}],"src":"1001:34:30"},"returnParameters":{"id":8633,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8632,"name":"","nodeType":"VariableDeclaration","scope":8640,"src":"1056:4:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":8631,"name":"bool","nodeType":"ElementaryTypeName","src":"1056:4:30","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"1055:6:30"},"scope":8649,"src":"988:121:30","stateMutability":"view","superFunction":null,"visibility":"public"},{"body":{"id":8647,"nodeType":"Block","src":"1188:40:30","statements":[{"expression":{"argumentTypes":null,"id":8645,"name":"currentCallPhase","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":8544,"src":"1205:16:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"functionReturnParameters":8644,"id":8646,"nodeType":"Return","src":"1198:23:30"}]},"documentation":null,"id":8648,"implemented":true,"kind":"function","modifiers":[],"name":"when","nodeType":"FunctionDefinition","parameters":{"id":8641,"nodeType":"ParameterList","parameters":[],"src":"1128:2:30"},"returnParameters":{"id":8644,"nodeType":"ParameterList","parameters":[{"constant":false,"id":8643,"name":"","nodeType":"VariableDeclaration","scope":8648,"src":"1151:35:30","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"},"typeName":{"contractScope":null,"id":8642,"name":"GlobalConstraintInterface.CallPhase","nodeType":"UserDefinedTypeName","referencedDeclaration":1879,"src":"1151:35:30","typeDescriptions":{"typeIdentifier":"t_enum$_CallPhase_$1879","typeString":"enum GlobalConstraintInterface.CallPhase"}},"value":null,"visibility":"internal"}],"src":"1150:37:30"},"scope":8649,"src":"1115:113:30","stateMutability":"view","superFunction":null,"visibility":"public"}],"scope":8650,"src":"88:1142:30"}],"src":"0:1231:30"},"compiler":{"name":"solc","version":"0.5.13+commit.5b0b510c.Emscripten.clang"},"networks":{},"schemaVersion":"3.0.14","updatedAt":"2019-12-09T10:59:45.610Z","devdoc":{"methods":{}},"userdoc":{"methods":{}}}